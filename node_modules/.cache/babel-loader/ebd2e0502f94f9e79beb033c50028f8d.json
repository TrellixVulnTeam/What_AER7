{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\priya\\\\Desktop\\\\fukran\\\\quora-clone\\\\src\\\\component\\\\Post.js\",\n    _s = $RefreshSig$();\n\nimport { Avatar } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport '../css/Post.css';\nimport ChatBubbleOutlineOutlinedIcon from \"@material-ui/icons/ChatBubbleOutlineOutlined\";\nimport MoreVertOutlined from \"@material-ui/icons/MoreVert\";\nimport Modal from 'react-modal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectUser } from '../features/userSlice';\nimport { setQuestionInfo, selectQuestionId, selectQuestionName } from '../features/questionSlice';\nimport db from '../firebase';\nimport firebase from 'firebase';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\nimport SyncIcon from '@material-ui/icons/Sync';\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nModal.setAppElement('#root');\n\nfunction Post({\n  Id,\n  question,\n  imageUrl,\n  timestamp,\n  users\n}) {\n  _s();\n\n  const user = useSelector(selectUser);\n  const [openModal, setOpenModal] = useState(false);\n  const dispatch = useDispatch();\n  const questionId = useSelector(selectQuestionId); //const questionName = useSelector(selectQuestionName)\n\n  const [answer, setAnswer] = useState(\"\");\n  const [getAnswer, setGetAnswer] = useState([]);\n  useEffect(() => {\n    if (questionId) {\n      db.collection('questions').doc(questionId).collection('answer').orderBy('timestamp', 'desc').onSnapshot(snapshot => setGetAnswer(snapshot.docs.map(doc => ({\n        id: doc.id,\n        answers: doc.data()\n      }))));\n    }\n  });\n\n  const handleAnswer = e => {\n    e.preventDefault();\n\n    if (questionId) {\n      db.collection(\"questions\").doc(questionId).collection(\"answer\").add({\n        user: user,\n        answer: answer,\n        questionId: questionId,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp()\n      });\n    }\n\n    console.log(questionId);\n    setAnswer(\"\");\n    setOpenModal(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post\",\n    onClick: () => dispatch(setQuestionInfo({\n      questionId: Id,\n      questionName: question\n    })),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post_info\",\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        src: users.photo ? users.photo : \"https://images-platform.99static.com//_QXV_u2KU7-ihGjWZVHQb5d-yVM=/238x1326:821x1909/fit-in/500x500/99designs-contests-attachments/119/119362/attachment_119362573\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feed_person\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: users.displayName ? users.displayName : users.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: new Date(timestamp === null || timestamp === void 0 ? void 0 : timestamp.toDate()).toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feed_end\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feed_follow\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post_body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post_que\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"post_btnAns\",\n          onClick: () => setOpenModal(true),\n          children: \"Answer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: openModal,\n          onRequestClose: () => setOpenModal(false),\n          shouldCloseOnOverlayClick: false,\n          style: {\n            overlay: {\n              width: 680,\n              height: 550,\n              backgroundColor: \"rgba(0,0,0,0.8)\",\n              zIndex: \"1000\",\n              top: \"50%\",\n              left: \"50%\",\n              marginTop: \"-250px\",\n              marginLeft: \"-350px\"\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal__question\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: question\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"asked by\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"name\",\n                children: users.displayName ? users.displayName : users.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), \" \", \"\", \"on\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"name\",\n                children: new Date(timestamp === null || timestamp === void 0 ? void 0 : timestamp.toDate()).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal__answer\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              required: true,\n              value: answer,\n              onChange: e => setAnswer(e.target.value),\n              placeholder: \"Enter Your Answer\",\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal__button\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cancle\",\n              onClick: () => setOpenModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAnswer,\n              type: \"sumbit\",\n              className: \"add\",\n              children: \"Add Answer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post_ans\",\n        children: getAnswer.map(({\n          id,\n          answers\n        }) => {\n          var _answers$timestamp;\n\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              position: \"relative\",\n              paddingBottom: \"5px\"\n            },\n            children: Id === answers.questionId ? /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [answers.answer, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  position: \"absolute\",\n                  color: \"gray\",\n                  fontSize: \"small\",\n                  display: \"flex\",\n                  right: \"0px\",\n                  top: \"-5px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"#b92b27\"\n                  },\n                  children: [answers.user.displayName ? answers.user.displayName : answers.user.email, \" \", \"on\", \" \", new Date((_answers$timestamp = answers.timestamp) === null || _answers$timestamp === void 0 ? void 0 : _answers$timestamp.toDate()).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this) : \"\"\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        //src=\"https://qphs.fs.quoracdn.net/main-qimg-6c78ed5af6f4e0474a7fc413a75af20f\"\n        src: imageUrl,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post_footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post__footerAction\",\n        children: [/*#__PURE__*/_jsxDEV(ThumbUpAltOutlinedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"100+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post__footerAction\",\n        children: [/*#__PURE__*/_jsxDEV(SyncIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post__footerAction\",\n        children: [/*#__PURE__*/_jsxDEV(ChatBubbleOutlineOutlinedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"40 answers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post__footerLeft\",\n        children: [/*#__PURE__*/_jsxDEV(BookmarkBorderIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MoreVertOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Post, \"BOhh56FzRhCLJ58EEJfTWZ2Z1I0=\", false, function () {\n  return [useSelector, useDispatch, useSelector];\n});\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["C:/Users/priya/Desktop/fukran/quora-clone/src/component/Post.js"],"names":["Avatar","React","useEffect","useState","ChatBubbleOutlineOutlinedIcon","MoreVertOutlined","Modal","useDispatch","useSelector","selectUser","setQuestionInfo","selectQuestionId","selectQuestionName","db","firebase","CloseIcon","ThumbUpAltOutlinedIcon","SyncIcon","BookmarkBorderIcon","setAppElement","Post","Id","question","imageUrl","timestamp","users","user","openModal","setOpenModal","dispatch","questionId","answer","setAnswer","getAnswer","setGetAnswer","collection","doc","orderBy","onSnapshot","snapshot","docs","map","id","answers","data","handleAnswer","e","preventDefault","add","firestore","FieldValue","serverTimestamp","console","log","questionName","photo","displayName","email","Date","toDate","toLocaleString","overlay","width","height","backgroundColor","zIndex","top","left","marginTop","marginLeft","target","value","position","paddingBottom","color","fontSize","display","right"],"mappings":"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","sourcesContent":["import { Avatar } from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react'\r\nimport '../css/Post.css'\r\n\r\nimport ChatBubbleOutlineOutlinedIcon from \"@material-ui/icons/ChatBubbleOutlineOutlined\";\r\nimport MoreVertOutlined from \"@material-ui/icons/MoreVert\";\r\nimport Modal from 'react-modal'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {selectUser} from '../features/userSlice'\r\nimport {setQuestionInfo, selectQuestionId, selectQuestionName } from '../features/questionSlice';\r\nimport db from '../firebase';\r\nimport firebase from 'firebase'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\r\n\r\n\r\nModal.setAppElement('#root');\r\n\r\nfunction Post({ Id, question, imageUrl, timestamp, users }) {\r\n    \r\n    const user = useSelector(selectUser)\r\n    const [openModal, setOpenModal] = useState(false)\r\n    const dispatch = useDispatch()\r\n\r\n    const questionId = useSelector(selectQuestionId)\r\n    //const questionName = useSelector(selectQuestionName)\r\n    const [answer, setAnswer] = useState(\"\")\r\n    const [getAnswer, setGetAnswer] = useState([])\r\n\r\n    useEffect(() => {\r\n        if(questionId){\r\n            db.collection('questions').doc(questionId).collection('answer').orderBy('timestamp', 'desc').onSnapshot(snapshot => setGetAnswer(snapshot.docs.map((doc)=> ({\r\n                id: doc.id,\r\n                answers: doc.data()\r\n            }))))\r\n        }\r\n    })\r\n\r\n    const handleAnswer = (e) => {\r\n        e.preventDefault();\r\n    \r\n        if (questionId) {\r\n          db.collection(\"questions\").doc(questionId).collection(\"answer\").add({\r\n            user: user,\r\n            answer: answer,\r\n            questionId: questionId,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n    \r\n          });\r\n        }\r\n        console.log(questionId);\r\n        setAnswer(\"\");\r\n        setOpenModal(false);\r\n      };\r\n    return (\r\n        <div className=\"post\"\r\n        onClick = {() => dispatch(setQuestionInfo({\r\n            questionId: Id,\r\n            questionName: question\r\n        }))}\r\n        >\r\n            <div className=\"post_info\">\r\n                <Avatar \r\n                src={\r\n                    users.photo\r\n                      ? users.photo\r\n                      : \"https://images-platform.99static.com//_QXV_u2KU7-ihGjWZVHQb5d-yVM=/238x1326:821x1909/fit-in/500x500/99designs-contests-attachments/119/119362/attachment_119362573\"\r\n                  }\r\n                   \r\n                />\r\n                <div className=\"feed_person\">\r\n                <h5>{users.displayName ? users.displayName : users.email}</h5>\r\n                <small>{new Date(timestamp?.toDate()).toLocaleString()}</small>\r\n                </div>\r\n                \r\n                <div className=\"feed_end\">\r\n                  <div className=\"feed_follow\">\r\n                    <h5>Follow</h5>\r\n                  </div>\r\n                  <CloseIcon />\r\n                  \r\n                </div>\r\n            </div>\r\n\r\n            <hr />\r\n\r\n            <div className=\"post_body\">\r\n                <div className=\"post_que\">\r\n                    <p>{question}</p>\r\n                    <button className=\"post_btnAns\" onClick = {() => setOpenModal(true)}>Answer</button>\r\n                    <Modal\r\n            isOpen={openModal}\r\n            onRequestClose={() => setOpenModal(false)}\r\n            shouldCloseOnOverlayClick={false}\r\n            style={{\r\n              overlay: {\r\n                width: 680,\r\n                height: 550,\r\n                backgroundColor: \"rgba(0,0,0,0.8)\",\r\n                zIndex: \"1000\",\r\n                top: \"50%\",\r\n                left: \"50%\",\r\n                marginTop: \"-250px\",\r\n                marginLeft: \"-350px\",\r\n              },\r\n            }}\r\n          >\r\n            <div className=\"modal__question\">\r\n              <h1>{question}</h1>\r\n              <p>\r\n                asked by{\" \"}\r\n                <span className=\"name\">\r\n                  {users.displayName ? users.displayName : users.email}\r\n                </span>{\" \"}\r\n                {\"\"}\r\n                on{\" \"}\r\n                <span className=\"name\">\r\n                  {new Date(timestamp?.toDate()).toLocaleString()}\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <div className=\"modal__answer\">\r\n              <textarea\r\n                required\r\n                value={answer}\r\n                onChange={(e) => setAnswer(e.target.value)}\r\n                placeholder=\"Enter Your Answer\"\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"modal__button\">\r\n              <button className=\"cancle\" onClick={() => setOpenModal(false)}>\r\n                Cancel\r\n              </button>\r\n              <button  onClick={handleAnswer} type=\"sumbit\"  className=\"add\">\r\n                Add Answer\r\n              </button>\r\n            </div>\r\n          </Modal>\r\n\r\n                </div>\r\n                <div className=\"post_ans\">\r\n                {getAnswer.map(({ id, answers }) => (\r\n            <p key={id} style={{ position: \"relative\", paddingBottom: \"5px\" }}>\r\n              {Id === answers.questionId ? (\r\n                <span>\r\n                  {answers.answer}\r\n                  <br />\r\n                  <span\r\n                    style={{\r\n                      position: \"absolute\",\r\n                      color: \"gray\",\r\n                      fontSize: \"small\",\r\n                      display: \"flex\",\r\n                      right: \"0px\",\r\n                      top: \"-5px\"\r\n                    }}\r\n                  >\r\n                    <span style={{ color: \"#b92b27\" }}>\r\n                      {answers.user.displayName\r\n                        ? answers.user.displayName\r\n                        : answers.user.email}{\" \"}\r\n                      on{\" \"}\r\n                      {new Date(answers.timestamp?.toDate()).toLocaleString()}\r\n                    </span>\r\n                  </span>\r\n                </span>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </p>\r\n          ))}\r\n                    \r\n                </div>\r\n                <img \r\n                //src=\"https://qphs.fs.quoracdn.net/main-qimg-6c78ed5af6f4e0474a7fc413a75af20f\"\r\n                src={imageUrl}\r\n                alt=\"\"\r\n                />\r\n            </div>\r\n            <div className=\"post_footer\">\r\n            <div className=\"post__footerAction\">\r\n          <ThumbUpAltOutlinedIcon />\r\n          <p>100+</p>\r\n        </div>\r\n\r\n        <div className=\"post__footerAction\">\r\n        <SyncIcon />\r\n          <p>50</p>\r\n        </div>\r\n        <div className=\"post__footerAction\">\r\n        <ChatBubbleOutlineOutlinedIcon />\r\n          <p>40 answers</p>\r\n        </div>\r\n        \r\n        \r\n        <div className=\"post__footerLeft\">\r\n          <BookmarkBorderIcon />\r\n          <MoreVertOutlined />\r\n        </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n"]},"metadata":{},"sourceType":"module"}