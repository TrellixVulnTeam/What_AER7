{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/priya/Desktop/fukran/quora-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/priya/Desktop/fukran/quora-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/priya/Desktop/fukran/quora-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/priya/Desktop/fukran/quora-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import\"./App.css\";import Login from\"./component/auth/Login\";import Quora from\"./component/Quora\";import{login,logout,selectUser}from\"./features/userSlice\";import{auth}from\"./firebase\";import{css}from\"@emotion/react\";import ClockLoader from\"react-spinners/ClockLoader\";import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import{Navigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var override=css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: block;\\n  margin: 20% auto;\\n  border-color: red;\\n  size: 50;\\n\"])));function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"#27B9AF\"),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setColor=_useState4[1];var user=useSelector(selectUser);var dispatch=useDispatch();var Handler=function Handler(){return auth.onAuthStateChanged(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(authUser){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);if(authUser){dispatch(login({uid:authUser.uid,email:authUser.email,displayName:authUser.displayName,photo:authUser.photoURL}));console.log(authUser);}else{setLoading(true);dispatch(logout());}case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};useEffect(function(){Handler();},[dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/feed\",element:/*#__PURE__*/_jsx(Quora,{})})]})})});}export default App;","map":{"version":3,"sources":["C:/Users/priya/Desktop/fukran/quora-clone/src/App.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Login","Quora","login","logout","selectUser","auth","css","ClockLoader","BrowserRouter","Router","Routes","Route","Navigate","override","App","loading","setLoading","color","setColor","user","dispatch","Handler","onAuthStateChanged","authUser","uid","email","displayName","photo","photoURL","console","log"],"mappings":"iqBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,UAAxB,KAA0C,sBAA1C,CACA,OAASC,IAAT,KAAqB,YAArB,CACA,OAASC,GAAT,KAAoB,gBAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAsD,kBAAtD,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,wFACA,GAAMC,CAAAA,QAAQ,CAAGP,GAAH,8IAAd,CAQA,QAASQ,CAAAA,GAAT,EAAe,CAGf,cAA8BjB,QAAQ,CAAC,KAAD,CAAtC,wCAAOkB,OAAP,eAAgBC,UAAhB,eACA,eAA0BnB,QAAQ,CAAC,SAAD,CAAlC,yCAAOoB,KAAP,eAAcC,QAAd,eAEE,GAAMC,CAAAA,IAAI,CAAGpB,WAAW,CAACK,UAAD,CAAxB,CACA,GAAMgB,CAAAA,QAAQ,CAAGtB,WAAW,EAA5B,CAEA,GAAMuB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,SAAMhB,CAAAA,IAAI,CAACiB,kBAAL,0FAAyB,iBAAMC,QAAN,kHAC7CP,UAAU,CAAC,IAAD,CAAV,CACA,GAAIO,QAAJ,CAAc,CACbH,QAAQ,CACLlB,KAAK,CAAC,CACJsB,GAAG,CAAED,QAAQ,CAACC,GADV,CAEJC,KAAK,CAAEF,QAAQ,CAACE,KAFZ,CAGJC,WAAW,CAAEH,QAAQ,CAACG,WAHlB,CAIJC,KAAK,CAAEJ,QAAQ,CAACK,QAJZ,CAAD,CADA,CAAR,CAQCC,OAAO,CAACC,GAAR,CAAYP,QAAZ,EAGD,CAZD,IAYO,CACLP,UAAU,CAAC,IAAD,CAAV,CACAI,QAAQ,CAACjB,MAAM,EAAP,CAAR,CAED,CAlB4C,sDAAzB,+DAAN,EAAhB,CAsBAP,SAAS,CAAC,UAAM,CACdyB,OAAO,GAER,CAHQ,CAGN,CAACD,QAAD,CAHM,CAAT,CAMA,mBAAO,YAAK,SAAS,CAAC,KAAf,uBACL,KAAC,MAAD,wBACI,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,OAAO,cAAE,KAAC,KAAD,IAA/B,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,OAAO,cAAE,KAAC,KAAD,IAA7B,EAFF,GADJ,EADK,EAAP,CAYD,CAED,cAAeN,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./App.css\";\nimport Login from \"./component/auth/Login\";\nimport Quora from \"./component/Quora\";\nimport { login, logout, selectUser } from \"./features/userSlice\";\nimport { auth } from \"./firebase\";\nimport { css } from \"@emotion/react\";\nimport ClockLoader from \"react-spinners/ClockLoader\";\nimport { BrowserRouter as Router, Routes, Route} from \"react-router-dom\";\nimport { Navigate } from 'react-router-dom'\nconst override = css`\n  display: block;\n  margin: 20% auto;\n  border-color: red;\n  size: 50;\n`;\n\n\nfunction App() {\n\n  \nconst [loading, setLoading] = useState(false);\nconst [color, setColor] = useState(\"#27B9AF\");\n\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n\n  const Handler = () => auth.onAuthStateChanged( async(authUser) => {\n    setLoading(true);\n    if (authUser) {\n     dispatch(\n        login({\n          uid: authUser.uid,\n          email: authUser.email,\n          displayName: authUser.displayName,\n          photo: authUser.photoURL,\n        })\n      );\n      console.log(authUser);\n      \n      \n    } else {\n      setLoading(true) \n      dispatch(logout());\n      \n    }\n    \n  });\n\n  useEffect(() => {\n    Handler();\n    \n  }, [dispatch]);\n  \n  \n  return <div className=\"App\">\n    <Router>\n        <Routes>      \n          <Route exact path=\"/\" element={<Login />}></Route>\n          <Route path=\"/feed\" element={<Quora />}></Route>  \n        </Routes>\n\n        {/* {loading ? <Navigate replace to=\"/\" />  : <ClockLoader color={color} loading={true} css={override} size={150} /> } */}\n      </Router>\n\n\n    </div>;\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}